<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order Now - Candy Cakes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="../images/Candy Cake.jpg" type="image/x-icon">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/cascaded.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="topnav">
        <div class="top-nav-container">
            <span class="sidebar-toggle" onclick="toggleNav()">&#9776;</span>
            <div class="topnav-right">
                <a href="profile.html" class="profile-link">
                    <img src="../images/profil.jpg" alt="Profile" class="profile-icon">
                </a>
                <div class="social-media-container">
                    <a href="https://www.facebook.com/Candycakestanta" target="_blank">
                        <img class="social-media" src="https://static.wixstatic.com/media/23fd2a2be53141ed810f4d3dcdcd01fa.png/v1/fill/w_38,h_38,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/23fd2a2be53141ed810f4d3dcdcd01fa.png">
                    </a>
                    <a href="https://www.instagram.com/candy_cakes_tanta/" target="_blank">
                        <img class="social-media" src="https://static.wixstatic.com/media/81af6121f84c41a5b4391d7d37fce12a.png/v1/fill/w_38,h_38,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/81af6121f84c41a5b4391d7d37fce12a.png">
                    </a>
                </div>
                <!-- Shopping Cart Icon with count -->
                <a href="shopping-cart.html" class="cart-icon-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="nav-cart-count">0</span>
                </a>
            </div>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="profile.html" class="profile-link">
                <img src="../images/profil.jpg" alt="Profile" class="profile-icon">
            </a>
            <div class="closebtn" onclick="closeNav()">&times;</div>
        </div>
        <a href="home.html" style="font-size: 100%;font-family: 'Nunito', sans-serif">Home</a>
        <a href="home.html#menu" style="font-size: 100%;font-family: 'Nunito', sans-serif">Menu</a>
        <a href="Special Order.HTML" style="font-size: 100%; font-family: 'Nunito', sans-serif">Customize Order</a>
        <a href="home.html#about" style="font-size: 100%;font-family: 'Nunito', sans-serif">About Us</a>
        <a href="Login.html" style="font-size: 100%;">Login</a>
    </div>

    <div class="main" id="main">
        <div class="container-fluid">
            <div class="row d-flex justify-content-center align-items-center">
                <div class="col-12 col-md-8 col-lg-6">
                    <div class="card bg-white text-black custom-form-card">
                        <div class="card-body p-5 text-left">
                            <h1 class="title">Order Now</h1>
                            <p class="text-center mb-4">Quick order form for standard items</p>
                            <hr>
                            <form id="form">
                                <div class="mb-3">
                                    <label for="datepicker1" class="form-label">Delivery Date</label>
                                    <input 
                                    name="date"
                                    type="date"
                                    class="form-control my-date"
                                    required
                                    >
                                    <div class="invalid-feedback">Please select a date.</div>
                                </div>
                
                                <div class="mb-3">
                                    <label class="form-label" for="typeAddress">Delivery Address</label>
                                    <input name="address" type="text" id="typeAddressX" class="form-control my-address" required />
                                    <div class="invalid-feedback">Please provide your address.</div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label" for="size">Number of People</label>
                                    <select name="size" class="form-select my-size" aria-label="Default select example" required>
                                        <option value="">Select number of people</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">More than 8</option>
                                    </select>
                                    <div class="invalid-feedback">Please select number of people.</div>
                                </div>
                        
                                <div class="mb-3">
                                    <label class="form-label" for="information">Comments</label>
                                    <textarea name="Comments" class="form-control my-comm" id="information" rows="4" placeholder="Additional instructions for your order"></textarea>
                                    <div class="invalid-feedback">Please provide any special instructions.</div>
                                </div>
            
                                <button class="btn-main" type="submit"><i class="fas fa-shopping-bag"></i> Order Now</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleNav() {
            const sidebar = document.getElementById("sidebar");
            if (sidebar.style.width === "250px") {
                closeNav();
            } else {
                openNav();
            }
        }
      
        function openNav() {
            document.getElementById("sidebar").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
            document.getElementById("sidebar").style.display = "block"; 
        }
      
        function closeNav() {
            document.getElementById("sidebar").style.width = "0";
            document.getElementById("main").style.marginLeft= "0";
            document.getElementById("sidebar").style.display = "none"; 
        }
        
        // Update cart count from localStorage if available
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            
            // Form validation
            const form = document.getElementById('form');
            
            form.addEventListener('submit', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                    
                    // Show all validation errors
                    const inputs = form.querySelectorAll('input, select, textarea');
                    inputs.forEach(input => {
                        if (!input.validity.valid) {
                            input.classList.add('is-invalid');
                        }
                    });
                } else {
                    // Form is valid, you can submit
                    alert('Your order has been placed! We will contact you shortly.');
                }
            });
            
            // Remove validation styling on input
            const inputs = form.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value.trim() !== '') {
                        this.classList.remove('is-invalid');
                    }
                });
            });
        });
        
        // Function to update cart count
        function updateCartCount() {
            let count = 0;
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            
            if (cartItems.length) {
                count = cartItems.reduce((total, item) => total + item.quantity, 0);
            }
            
            document.getElementById('nav-cart-count').textContent = count;
        }
    </script>
</body>
</html>